<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Text to Speech (Indian Languages)</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #a855f7, #22c55e);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
      }
      .card {
        background: white;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
        width: 420px;
        text-align: center;
      }
      h1 {
        margin-top: 0;
        color: #4c1d95;
      }
      textarea {
        width: 100%;
        height: 120px;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #ccc;
        resize: none;
        font-size: 14px;
      }
      button {
        margin-top: 10px;
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        font-size: 16px;
        cursor: pointer;
        background: #4c1d95;
        color: white;
      }
      button:hover {
        opacity: 0.9;
      }
      select {
        margin-top: 10px;
        padding: 6px;
        border-radius: 8px;
        border: 1px solid #ccc;
        width: 100%;
      }
      p {
        font-size: 13px;
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Text to Speech</h1>
      <p>Type your text and choose a language.</p>

      <textarea
        id="text"
        placeholder="Type English / हिंदी / తెలుగు / தமிழ் text here..."
      ></textarea>

      <!-- Language selection -->
      <select id="languageSelect">
        <option value="en-IN">English (India)</option>
        <option value="hi-IN">Hindi (हिन्दी)</option>
        <option value="te-IN">Telugu (తెలుగు)</option>
        <option value="ta-IN">Tamil (தமிழ்)</option>
      </select>

      <!-- Voice selection (optional) -->
      <select id="voiceSelect">
        <option value="">Default Voice (recommended)</option>
      </select>

      <button id="speakBtn">Speak</button>

      <p id="msg"></p>
    </div>

    <script>
      const textArea = document.getElementById("text");
      const speakBtn = document.getElementById("speakBtn");
      const msg = document.getElementById("msg");
      const voiceSelect = document.getElementById("voiceSelect");
      const languageSelect = document.getElementById("languageSelect");

      let voices = [];

      function loadVoices() {
        voices = window.speechSynthesis.getVoices();
        voiceSelect.innerHTML =
          '<option value="">Default Voice (recommended)</option>';

        // List all available voices (user can experiment)
        voices.forEach((voice, index) => {
          const option = document.createElement("option");
          option.value = index;
          option.textContent = `${voice.name} (${voice.lang})`;
          voiceSelect.appendChild(option);
        });
      }

      // Some browsers load voices async
      loadVoices();
      window.speechSynthesis.onvoiceschanged = loadVoices;

      speakBtn.addEventListener("click", () => {
        const text = textArea.value.trim();

        if (!("speechSynthesis" in window)) {
          msg.textContent = "Sorry, your browser does not support speech.";
          return;
        }

        if (!text) {
          msg.textContent = "Please type some text.";
          return;
        }

        const selectedLang = languageSelect.value || "en-IN";

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = selectedLang; // set language (Hindi/Telugu/Tamil)

        const selectedVoiceIndex = voiceSelect.value;
        if (selectedVoiceIndex !== "") {
          utterance.voice = voices[selectedVoiceIndex];
        }

        msg.textContent = "Speaking...";
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(utterance);

        utterance.onend
